<!DOCTYPE html>
<html lang="tr" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Araçlar | DRD</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

    <!-- Global & Base Styles -->
    <link rel="stylesheet" href="styles/styles.css">
    <link rel="stylesheet" href="styles/nav.css">
    <link rel="stylesheet" href="styles/car-models.css">
    <link rel="stylesheet" href="styles/newsletter.css">
    <link rel="stylesheet" href="styles/araclar.css">
    <link rel="stylesheet" href="styles/blog.css">

    <!-- Component Scripts -->
    <script src="components/nav.js"></script>
    <script src="components/component-loader.js"></script>
    <script src="components/advantages-section.js"></script>
    <script src="components/araclar.js"></script>
    <script src="components/special-campaign.js"></script>
</head>
<body>
    <main>
        <div class="header-list" style="background-image: url(https://drdcmsv2.taigalab.com/Files/img/car-details/araclar.jpg?v=-v-fZHMU4NojgbInYwpVAwXX0oc)">
            <h1 class="header-text">Araçlar</h1>
        </div>

        <!-- Main Content Layout -->
        <section class="main-content">
            <!-- Vehicle Filters Section - Sidebar -->
            <aside class="vehicle-filters">
                <h2 style="margin-bottom: 30px; color: #333; font-size: 24px;">Araçlar</h2>
                <form id="vehicle-filter-form">
                    <!-- Marka Dropdown -->
                    <div class="filter-group">
                        <button type="button" data-original-text="Marka Seçin" class="car-filter-btn car-filter-input" data-filter="brand">
                            Marka Seçin
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-caret-down-fill" viewBox="0 0 16 16">
                                <path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z" />
                            </svg>
                        </button>
                        <div class="dropdown-content brand-dropdown">
                            <div class="brand-list">
                                <label><input type="checkbox" name="brand" value="AUDI" class="brand-checkbox"> AUDI</label>
                                <label><input type="checkbox" name="brand" value="BMW" class="brand-checkbox"> BMW</label>
                                <label><input type="checkbox" name="brand" value="Mercedes" class="brand-checkbox"> Mercedes</label>
                                <label><input type="checkbox" name="brand" value="Toyota" class="brand-checkbox"> Toyota</label>
                                <label><input type="checkbox" name="brand" value="Volkswagen" class="brand-checkbox"> Volkswagen</label>
                                <label><input type="checkbox" name="brand" value="Renault" class="brand-checkbox"> Renault</label>
                                <!-- Listeyi istediğin kadar genişletebilirsin -->
                            </div>
                        </div>
                    </div>

                    <!-- Yakıt Tipi Dropdown -->
                    <div class="filter-group">
                        <button type="button" data-original-text="Yakıt Tipi Seçin" class="car-filter-btn car-filter-input" data-filter="fuel">
                            Yakıt Tipi Seçin
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-caret-down-fill" viewBox="0 0 16 16">
                                <path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z" />
                            </svg>
                        </button>
                        <div class="dropdown-content brand-list">
                            <label><input type="checkbox" name="fuel-type" value="benzin"> Benzin</label>
                            <label><input type="checkbox" name="fuel-type" value="dizel"> Dizel</label>
                            <label><input type="checkbox" name="fuel-type" value="hibrit"> Hibrit</label>
                            <label><input type="checkbox" name="fuel-type" value="elektrikli"> Elektrikli</label>
                        </div>
                    </div>

                    <!-- Vites Tipi Dropdown -->
                    <div class="filter-group">
                        <button type="button" data-original-text="Vites Tipi Seçin" class="car-filter-btn car-filter-input" data-filter="transmission">
                            Vites Tipi Seçin
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-caret-down-fill" viewBox="0 0 16 16">
                                <path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z" />
                            </svg>
                        </button>
                        <div class="dropdown-content brand-list">
                            <label><input type="checkbox" name="transmission" value="manuel"> Manuel</label>
                            <label><input type="checkbox" name="transmission" value="otomatik"> Otomatik</label>
                            <label><input type="checkbox" name="transmission" value="yarı otomatik"> Yarı Otomatik</label>
                        </div>
                    </div>

                    <!-- Araç Tipi Dropdown -->
                    <div class="filter-group">
                        <button type="button" data-original-text="Araç Tipi Seçin" class="car-filter-btn car-filter-input" data-filter="vehicle-type">
                            Araç Tipi Seçin
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-caret-down-fill" viewBox="0 0 16 16">
                                <path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z" />
                            </svg>
                        </button>
                        <div class="dropdown-content brand-list">
                            <label><input type="checkbox" name="vehicle-type" value="sedan"> Sedan</label>
                            <label><input type="checkbox" name="vehicle-type" value="suv"> SUV</label>
                            <label><input type="checkbox" name="vehicle-type" value="hatchback"> Hatchback</label>
                            <label><input type="checkbox" name="vehicle-type" value="mpv"> MPV</label>
                        </div>
                    </div>

                    <!-- Filtre Butonları -->
                    <div class="filter-actions">
                        <button type="submit" class="btn-filter btn-apply">Filtreleri Uygula</button>
                        <button type="button" class="btn-filter btn-clear" onclick="clearFilters()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z" />
                            </svg>
                        </button>
                    </div>
                </form>

            </aside>

            <!-- Vehicle Display Section -->
            <div class="vehicle-display">
                <div class="display-header">
                    <div class="results-count" id="results-count">24 Araç Listeleniyor</div>
                </div>
                <div class="vehicles-grid" id="vehicles-container">
                    <!-- Vehicles will be dynamically loaded here -->
                </div>

                <!-- Pagination Container -->
                <div class="pagination" id="pagination-container">
                    <!-- Pagination will be dynamically loaded here -->
                </div>
            </div>
        </section>

        <div id="special-campaign-container"></div>

        <div class="advantages-section-container"></div>
    </main>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const filterButtons = document.querySelectorAll(".car-filter-btn");
            const clearButton = document.querySelector(".btn-clear");

            // Checkbox değişikliklerini dinle
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                checkbox.addEventListener('change', function () {
                    updateButtonText();
                    updateClearButtonState();
                });
            });

            // Buton metinlerini güncelle
            function updateButtonText() {
                filterButtons.forEach(button => {
                    const filterType = button.dataset.filter;
                    const dropdown = button.nextElementSibling;
                    const checkedBoxes = dropdown.querySelectorAll('input[type="checkbox"]:checked');
                    const originalText = button.dataset.originalText;

                    if (checkedBoxes.length > 0) {
                        const selectedValues = Array.from(checkedBoxes).map(cb => cb.parentElement.textContent.trim());

                        // Metni kısalt ve göster
                        let displayText = selectedValues.join(', ');
                        const maxLength = 20; // Maksimum karakter sayısı

                        if (displayText.length > maxLength) {
                            displayText = displayText.substring(0, maxLength) + '...';
                        }

                        button.innerHTML = `
                    ${displayText}
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-caret-down-fill" viewBox="0 0 16 16">
                        <path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z" />
                    </svg>
                `;
                        button.style.fontWeight = '500';
                    } else {
                        button.innerHTML = `
                    ${originalText}
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-caret-down-fill" viewBox="0 0 16 16">
                        <path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z" />
                    </svg>
                `;
                        button.style.fontWeight = 'normal';
                    }
                });
            }

            // Temizle butonunun durumunu güncelle
            function updateClearButtonState() {
                const anyChecked = document.querySelectorAll('input[type="checkbox"]:checked').length > 0;

                if (anyChecked) {
                    clearButton.style.borderColor = '#ff0029';
                    clearButton.style.background = '#ff0029';
                    clearButton.style.cursor = 'pointer';
                    clearButton.querySelector('svg').style.fill = '#fff';
                } else {
                    clearButton.style.background = '#f8f9fa';
                    clearButton.style.borderColor = '#ddd';
                    clearButton.style.cursor = 'default';
                    clearButton.querySelector('svg').style.fill = '#666';
                }

            }

            // Tüm filtreleri temizle
            window.clearFilters = function () {
                document.querySelectorAll('input[type="checkbox"]:checked').forEach(checkbox => {
                    checkbox.checked = false;
                });
                updateButtonText();
                updateClearButtonState();
            };

            // Dropdown açma/kapama
            filterButtons.forEach(button => {
                button.addEventListener("click", function (e) {
                    e.stopPropagation();

                    // Diğer dropdown'ları kapat
                    document.querySelectorAll(".dropdown-content").forEach(drop => {
                        if (drop !== this.nextElementSibling) {
                            drop.style.display = "none";
                        }
                    });

                    // Bu dropdown'u aç/kapat
                    const dropdown = this.nextElementSibling;
                    dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
                });
            });

            // Sayfanın başka yerine tıklayınca kapat
            document.addEventListener("click", function (e) {
                if (!e.target.closest(".filter-group")) {
                    document.querySelectorAll(".dropdown-content").forEach(drop => {
                        drop.style.display = "none";
                    });
                }
            });

            // Dropdown içinde tıklama olduğunda kapanmasın
            document.querySelectorAll(".dropdown-content").forEach(dropdown => {
                dropdown.addEventListener("click", function (e) {
                    e.stopPropagation();
                });
            });

            // İlk yükleme
            updateClearButtonState();
        });
    </script>
</body>
</html>